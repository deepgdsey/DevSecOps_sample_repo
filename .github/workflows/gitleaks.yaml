name: Gitleaks Scan
on:
  push: 
  branches:
    -main
  pull_request:
    branches: ["main"]
jobs:
  gitleaks:
    runs-on: ubuntu-latest
    steps:
    - name: Code checkout
      uses: actions/checkout@v2
      
    - name: Install GitLeaks
     run: |
         wget -q -o gitleaks.tar.gz "https://github.com/gitleaks/gitleaks/releases/download/v8.18.0/gitleaks_8.18.0_linux_x64.tar.gz" \
         ls -1
         tar -xzvf gitleaks.tar.gz
         chmod +x gitleaks
         sudo mv gitleaks /usr/local/bin/
    -name: Run Gitleaks
    run: |
      gitleaks detect --readact
       

